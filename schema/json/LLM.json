{
  "$defs": {
    "BaseCompletionOptions": {
      "properties": {
        "temperature": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "The temperature of the completion.",
          "title": "Temperature"
        },
        "top_p": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "The top_p of the completion.",
          "title": "Top P"
        },
        "top_k": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "The top_k of the completion.",
          "title": "Top K"
        },
        "presence_penalty": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "The presence penalty Aof the completion.",
          "title": "Presence Penalty"
        },
        "frequency_penalty": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "The frequency penalty of the completion.",
          "title": "Frequency Penalty"
        },
        "stop": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "The stop tokens of the completion.",
          "title": "Stop"
        },
        "max_tokens": {
          "default": 1023,
          "description": "The maximum number of tokens to generate.",
          "title": "Max Tokens",
          "type": "integer"
        },
        "session_id": {
          "default": null,
          "description": "The session_id of the UI.",
          "title": "Session Id",
          "type": "string"
        }
      },
      "title": "BaseCompletionOptions",
      "type": "object"
    },
    "RequestOptions": {
      "properties": {
        "timeout": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": 300,
          "description": "Set the timeout for each request to the LLM. If you are running a local LLM that takes a while to respond, you might want to set this to avoid timeouts.",
          "title": "Timeout"
        },
        "verify_ssl": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether to verify SSL certificates for requests.",
          "title": "Verify Ssl"
        },
        "ca_bundle_path": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Path to a custom CA bundle to use when making the HTTP request",
          "title": "Ca Bundle Path"
        },
        "proxy": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Proxy URL to use when making the HTTP request",
          "title": "Proxy"
        },
        "headers": {
          "anyOf": [
            {
              "additionalProperties": {
                "type": "string"
              },
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Headers to use when making the HTTP request",
          "title": "Headers"
        }
      },
      "title": "RequestOptions",
      "type": "object"
    }
  },
  "additionalProperties": true,
  "properties": {
    "title": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "A title that will identify this model in the model selection dropdown",
      "title": "Title"
    },
    "unique_id": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "The unique ID of the user.",
      "title": "Unique Id"
    },
    "model": {
      "description": "The name of the model to be used (e.g. gpt-4, codellama)",
      "title": "Model",
      "type": "string"
    },
    "system_message": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "A system message that will always be followed by the LLM",
      "title": "System Message"
    },
    "context_length": {
      "anyOf": [
        {
          "type": "integer"
        },
        {
          "type": "null"
        }
      ],
      "default": 2048,
      "description": "The maximum context length of the LLM in tokens, as counted by count_tokens.",
      "title": "Context Length"
    },
    "completion_options": {
      "allOf": [
        {
          "$ref": "#/$defs/BaseCompletionOptions"
        }
      ],
      "default": {
        "temperature": null,
        "top_p": null,
        "top_k": null,
        "presence_penalty": null,
        "frequency_penalty": null,
        "stop": null,
        "max_tokens": 1023,
        "session_id": null
      },
      "description": "Options for the completion endpoint. Read more about the completion options in the documentation."
    },
    "request_options": {
      "allOf": [
        {
          "$ref": "#/$defs/RequestOptions"
        }
      ],
      "default": {
        "timeout": 300,
        "verify_ssl": null,
        "ca_bundle_path": null,
        "proxy": null,
        "headers": null
      },
      "description": "Options for the HTTP request to the LLM."
    },
    "prompt_templates": {
      "default": null,
      "description": "A dictionary of prompt templates that can be used to customize the behavior of the LLM in certain situations. For example, set the \"edit\" key in order to change the prompt that is used for the /edit slash command. Each value in the dictionary is a string templated in mustache syntax, and filled in at runtime with the variables specific to the situation. See the documentation for more information.",
      "title": "Prompt Templates",
      "type": "string"
    },
    "template_messages": {
      "default": null,
      "description": "A function that takes a list of messages and returns a prompt. This ensures that models like llama2, which are trained on specific chat formats, will always receive input in that format.",
      "title": "Template Messages",
      "type": "string"
    },
    "write_log": {
      "default": null,
      "description": "A function that is called upon every prompt and completion, by default to log to the file which can be viewed by clicking on the magnifying glass.",
      "title": "Write Log",
      "type": "string"
    },
    "api_key": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "The API key for the LLM provider.",
      "title": "Api Key"
    },
    "api_base": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "The base URL of the LLM API.",
      "title": "Api Base"
    }
  },
  "required": [
    "model"
  ],
  "title": "LLM",
  "type": "object"
}